import java.lang.Math; 
// Shared variables declaration
Integer turn;
Boolean[] flag;
// Shared variables initialization
turn = new Integer(0);
flag = new Boolean[nbProc];
// Local variables declaration
int j;
boolean a;
int b;
// Algorithm
flag = new Boolean[nbProc];
j = (index+1) % 2;
flag[index] = true;
turn = j;
a = flag[j];
b = turn;
while ( a == true && b == j ) {
a = flag[j];
b = turn;
}
flag[index] = false;
 
